<form [formGroup]="user" (submit)="onSubmit()">
  <div class="flex-justify-center">
    <div class="container">
      <div class="flex-col row-gap-md">
        <screen-header
          title="Add User Details"
          [btnActions]="btnActions"
          (onActionClick)="onActionClick($event)"
        ></screen-header>
        <div class="flex space-between col-gap-md">
          <div class="flex-col row-gap-md" style="width: 30%">
            <h3>Basic Info</h3>
            <div>
              <text-field
                label="First Name"
                [control]="user.get('firstName')"
                [readonly]="isView"
                [error]="
                  formService.fieldError(
                    user.get('firstName'),
                    'firstName',
                    validation
                  )
                "
              />
              <text-field
                label="Last Name"
                [control]="user.get('lastName')"
                [readonly]="isView"
                [error]="
                  formService.fieldError(
                    user.get('lastName'),
                    'lastName',
                    validation
                  )
                "
              />
              <text-field
                label="Email"
                [readonly]="isView"
                [control]="user.get('email')"
                [error]="
                  formService.fieldError(user.get('email'), 'email', validation)
                "
              />
              <text-field
                label="Phone Number"
                [readonly]="isView"
                [control]="user.get('phoneNo')"
                [maxLength]="10"
                [error]="
                  formService.fieldError(
                    user.get('phoneNo'),
                    'phoneNo',
                    validation
                  )
                "
              />
              <ng-container *ngIf="isView">
                <toggle-field
                  label="Status"
                  name="status"
                  [control]="user.get('status')"
                />
              </ng-container>
            </div>
          </div>
          <div style="width: 30%">
            <contact-info
              [contactInfoValue]="user.get('primaryContactInfo') | formGroup"
              [isReadOnly]="isView"
            />
          </div>
          <div style="width: 30%">
            <contact-info
              [contactInfoValue]="user.get('secondaryContactInfo') | formGroup"
              [isPrimaryInfo]="false"
              [isReadOnly]="
                !!user.get('secondarySameAsPrimary')?.value || isView
              "
            />
            <check-box-field
              label="Use Primary Contact"
              [control]="user.get('secondarySameAsPrimary')"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
